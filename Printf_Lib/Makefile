#===================================================================================================
# Makefile Driver - Juliano GÃ¼nthner
#===================================================================================================

#--------------------------------------------
# Compiler
TOOLS_PREFIX=arm-none-eabi-
CC=$(TOOLS_PREFIX)gcc
AS=$(TOOLS_PREFIX)as
AR=$(TOOLS_PREFIX)ar

#--------------------------------------------
# Compiler Flags
CFLAGS = -c -fno-common -O2 -Wall -g -mcpu=cortex-m0 -mthumb

#--------------------------------------------
# Includes
INCLUDES+=	-I.  

#--------------------------------------------
# Source Code Files
SRCS=printf_lib.c

#--------------------------------------------
# Object Files (Made from Source code list above)
OBJS=$(SRCS:.c=.o)

#===================================================================================================
# Build All
#===================================================================================================
all: libprintf.a

#===================================================================================================
# Build object files from source code
#===================================================================================================
%.o:%.c
	$(CC) $(CFLAGS) $(INCLUDES) -c $^ -o $@
	
#===================================================================================================
# Build lib
#===================================================================================================	
libprintf.a: $(OBJS)
	$(AR) -r $@ $(OBJS) 

#===================================================================================================
# Clean 
#===================================================================================================
clean:
	rm -f 	$(OBJS) libprintf.a




