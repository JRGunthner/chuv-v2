#include "NTC.h"
#include "AD.h"

//==================================================================================================
//
//==================================================================================================
void NTC_Init (void)
{
	AD_Init();
}

//==================================================================================================
//
//==================================================================================================
int16_t NTC_GetWaterTemperature(uint8_t Type)
{
	uint16_t AD_Value = 0;

	if(Type == TEMPERATURE_INLET)
	{
		AD_Value = AD_GetValue(AD_NTC1);
	}
	else if(Type == TEMPERATURE_OUTLET)
	{
		AD_Value = AD_GetValue(AD_NTC2);
	}
	else if(Type == TEMPERATURE_RESISTANCE)
	{
		AD_Value = AD_GetValue(AD_NTC3);
	}

    /***********************************/
    /*                                 */
	/*   +-------------+-----------+   */
	/*   | Temperature |  Average  |   */
    /*   |   (XX.X)    | AD_value  |   */
	/*   +-------------+-----------+   */
	/*   |     126     |   1224    |   */
	/*   |     263     |   1891    |   */
	/*   +-------------+-----------+   */
    /*                                 */
    /***********************************/

	return (int16_t)( (AD_Value*0.206 )-126 );
}
